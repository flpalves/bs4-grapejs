<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>GrapesJS</title>
  <link rel="stylesheet" href="dist/css/grapes.min.css">
  <script src="dist/grapes.min.js"></script>
  <script src="/node_modules/grapesjs-blocks-bootstrap4/dist/grapesjs-blocks-bootstrap4.min.js"></script>
  <script src="/node_modules/grapesjs-custom-code/dist/grapesjs-custom-code.min.js"></script>
  <script src="/node_modules/grapesjs-navbar/dist/grapesjs-navbar.min.js"></script>
  <script src="/node_modules/grapesjs-tooltip/dist/grapesjs-tooltip.min.js"></script>
  <script src="/node_modules/grapesjs-plugin-export/dist/grapesjs-plugin-export.min.js"></script>
  <script src="/node_modules/grapesjs-plugin-carousel/dist/grapesjs-plugin-carousel.min.js"></script>
  <!-- <script src="/grapesjs-plugin-boilerplate/src/index.js" type="module"></script> -->
  <script src="/custom-plugins/grapesjs-plugin.js"></script>

  <style>
    body,
    html {
      height: 100%;
      margin: 0;
    }
  </style>
</head>

<body>
  <div id="gjs" style="height:0px; overflow:hidden;">
    <div class="container">
      <div class="row">
        <div class="col-md-10 offset-md-1">
          <h3>Nome da tela</h3>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var editor = grapesjs.init({
      showOffsets: 1,
      noticeOnUnload: 0,
      container: '#gjs',
      height: '100%',
      fromElement: true,
      storageManager: {
        id: 'gjs-',             // Prefix identifier that will be used on parameters
        type: 'local',          // Type of the storage
        autosave: true,         // Store data automatically
        autoload: true,         // Autoload stored data on init
        stepsBeforeSave: 1,     // If autosave enabled, indicates how many changes are necessary before store method is triggered
      },
      styleManager: {
        sectors: [{
          name: 'General',
          open: false,
          buildProps: ['float', 'display', 'position', 'top', 'right', 'left', 'bottom']
        }, {
          name: 'Flex',
          open: false,
          buildProps: ['flex-direction', 'flex-wrap', 'justify-content', 'align-items', 'align-content', 'order', 'flex-basis', 'flex-grow', 'flex-shrink', 'align-self']
        }, {
          name: 'Dimension',
          open: false,
          buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding'],
        }, {
          name: 'Typography',
          open: false,
          buildProps: ['font-family', 'font-size', 'font-weight', 'letter-spacing', 'color', 'line-height', 'text-shadow'],
        }, {
          name: 'Decorations',
          open: false,
          buildProps: ['border-radius-c', 'background-color', 'border-radius', 'border', 'box-shadow', 'background'],
        }, {
          name: 'Extra',
          open: false,
          buildProps: ['transition', 'perspective', 'transform'],
        }
        ],
      },
      plugins: ['grapesjs-custom-code', 'grapesjs-blocks-bootstrap4', 'gjs-navbar', 'pluginTooltip', 'grapesjs-plugin-export', 'grapesjs-plugin-carousel', 'gjs-bs4-navbar', 'myPlugin'],
      pluginsOpts: {
        'grapesjs-custom-code': {
          // options 
        },
        'grapesjs-blocks-bootstrap4': {
          blocks: {
            form: false,
            input: false,
            form_group_input: false,
            input_group: false,
            textarea: false,
            select: false,
            button: false,
            button_group: false,
            button_toolbar: false,
            label: false,
            checkbox: false,
            radio: false

          },
          blockCategories: {
            // typography : false,
            // components : false,
            // layout : false,
            // form : false ,
            // basic : false
          },
          labels: {
            // ...
          },
          // ...
        },
        'pluginTooltip': {
          /* options */
        },
        'grapesjs-plugin-export': {
          /* options */
        },
        'grapesjs-plugin-carousel': {

        },
        'gjs-bs4-navbar': {

        }
      },
      canvas: {
        styles: [
          'https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css'
        ],
        scripts: [
          'https://code.jquery.com/jquery-3.3.1.slim.min.js',
          'https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js',
          'https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js'
        ],
      }
    });

    // editor.BlockManager.add('testBlock', {
    //   label: 'Block?',
    //   attributes: { class: 'gjs-fonts gjs-f-b1' },
    //   content: `<div style="padding-top:50px; padding-bottom:50px; text-align:center">Test block</div>`
    // })
  </script>
</body>

</html>